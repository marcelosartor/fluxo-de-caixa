ðŸ§­ VisÃ£o Geral do Diagrama
Esse Context Map modela uma aplicaÃ§Ã£o de Fluxo de Caixa baseada em DDD, dividida em quatro contextos principais:

ðŸŸ¦ CashFlow Management (Core Domain)
Esse Ã© o DomÃ­nio Principal, onde estÃ¡ o valor central do sistema: gerenciar o fluxo de caixa do usuÃ¡rio.

Principais Elementos:
CashFlowPeriod: representa um perÃ­odo (ex: mÃªs) analisado.

Transaction: entidade que representa uma entrada ou saÃ­da de dinheiro.

TransactionType: enum que define se Ã© INCOME ou EXPENSE.

CategoryRef (VO): um objeto de valor que faz referÃªncia a uma categoria (de outro contexto).

Money (VO): encapsula valor e moeda â€” separando lÃ³gica monetÃ¡ria.

DateRange (VO): usado para gerar relatÃ³rios entre datas.

CashFlowService: serviÃ§o de aplicaÃ§Ã£o responsÃ¡vel por orquestrar regras de negÃ³cios, como criar transaÃ§Ãµes, calcular saldo, etc.

ðŸŸ¨ Category Management (Supporting Domain)
DomÃ­nio de apoio que centraliza as categorias utilizadas pelas transaÃ§Ãµes. Ele Ã© separado para permitir autonomia e especializaÃ§Ã£o.

Elementos:
Category: entidade com nome, descriÃ§Ã£o e tipo.

CategoryType: enum que classifica categorias como FIXA, VARIÃVEL, etc.

CategoryService: responsÃ¡vel por criar, editar e validar categorias.

ðŸ§© Relacionamento com o Core: o domÃ­nio CashFlow utiliza um CategoryRef como referÃªncia, e consome esse contexto via padrÃ£o Conformist â€” aceita o modelo do outro contexto como estÃ¡.

ðŸŸ© Identity & Access (Generic Domain)
Um domÃ­nio genÃ©rico, usado por vÃ¡rios sistemas, responsÃ¡vel por autenticaÃ§Ã£o e autorizaÃ§Ã£o.

Elementos:
User: entidade com dados de login.

Role: enum que define permissÃµes (USER, ADMIN).

JWT: token de autenticaÃ§Ã£o.

AuthService: serviÃ§o que fornece login e controle de acesso.

ðŸ” IntegraÃ§Ã£o com o Core: feita via ACL (Anti-Corruption Layer) â€” o domÃ­nio de fluxo de caixa nÃ£o depende diretamente do modelo de Auth, mas cria um adaptador/translator para proteger suas regras.

ðŸŸ§ Export & Integration (Supporting)
Um contexto de suporte voltado Ã  exportaÃ§Ã£o de dados e integraÃ§Ã£o com outros sistemas.

Elementos:
ExportService: gera relatÃ³rios ou arquivos para exportaÃ§Ã£o.

Webhook: emite eventos (ex: saldo negativo) para integraÃ§Ã£o.

ReportGenerator: gera relatÃ³rios e dashboards.

ðŸ¤ Relacionamento com o Core: esse contexto Ã© parceiro do Core e se comunica com ele com contrato explÃ­cito (Partnership) â€” permitindo desacoplamento, mas com alinhamento colaborativo.

ðŸ“ Por que essa separaÃ§Ã£o?
Permite escalabilidade modular: cada contexto pode evoluir sozinho.

Reduz o acoplamento entre funcionalidades.

Facilita testes, reuso e organizaÃ§Ã£o do cÃ³digo.

Reflete a realidade do domÃ­nio com limites bem definidos.

ðŸ§  Como usar na palestra
Mostre primeiro o Core Domain: foco nas regras mais crÃ­ticas.

Depois apresente os domÃ­nios auxiliares e como eles se conectam.

Enfatize os tipos de integraÃ§Ã£o: Conformist, ACL, Parceria.

Explique que DDD ajuda a alinhar design com o negÃ³cio real.

-----

ðŸŸ¦ GestÃ£o de Fluxo de Caixa (DomÃ­nio Principal)
ðŸ“† PerÃ­odo de Fluxo (CashFlowPeriod)
Como usuÃ¡rio,
quero definir um perÃ­odo de anÃ¡lise do meu fluxo de caixa,
para visualizar entradas e saÃ­das dentro de um intervalo especÃ­fico (ex: mensal).

ðŸ’¸ TransaÃ§Ã£o
Como usuÃ¡rio,
quero registrar uma transaÃ§Ã£o de entrada ou saÃ­da,
para acompanhar meu saldo e entender para onde meu dinheiro estÃ¡ indo.

ðŸ”€ TipoTransaÃ§Ã£o (Enum)
Como desenvolvedor do domÃ­nio,
quero diferenciar tipos de transaÃ§Ã£o como RECEITA ou DESPESA,
para aplicar regras diferentes e gerar relatÃ³rios corretos.

ðŸ·ï¸ CategoriaRef (VO)
Como usuÃ¡rio,
quero atribuir uma categoria existente Ã  transaÃ§Ã£o,
para organizar melhor meus gastos e receitas.

ðŸ’° Dinheiro (VO)
Como sistema,
quero tratar valores monetÃ¡rios com seguranÃ§a (ex: arredondamento, moeda, formato),
para garantir cÃ¡lculos e exibiÃ§Ãµes consistentes.

ðŸ—“ï¸ IntervaloDatas (VO)
Como usuÃ¡rio,
quero gerar relatÃ³rios com base em intervalos de datas customizÃ¡veis,
para analisar perÃ­odos especÃ­ficos, como semanas ou trimestres.

ðŸ› ï¸ ServiÃ§oFluxoCaixa (App Service)
Como aplicaÃ§Ã£o,
quero orquestrar a criaÃ§Ã£o e cÃ¡lculo de transaÃ§Ãµes com base em regras de negÃ³cio,
para garantir integridade e consistÃªncia do fluxo de caixa.

ðŸŸ¨ GestÃ£o de Categorias (DomÃ­nio de Apoio)
ðŸ·ï¸ Categoria
Como usuÃ¡rio administrador,
quero criar e editar categorias financeiras,
para que os usuÃ¡rios possam organizar suas transaÃ§Ãµes com base nelas.

ðŸ“‚ TipoCategoria (Enum)
Como usuÃ¡rio,
quero saber se uma categoria Ã© FIXA ou VARIÃVEL,
para ter mais controle sobre previsibilidade dos gastos.

ðŸ› ï¸ ServiÃ§oCategoria
Como aplicaÃ§Ã£o,
quero validar nomes Ãºnicos e tipos ao criar categorias,
para evitar inconsistÃªncias e duplicidades.

ðŸŸ© Identidade & Acesso (DomÃ­nio GenÃ©rico)
ðŸ‘¤ UsuÃ¡rio
Como novo usuÃ¡rio,
quero criar minha conta e meus dados de login,
para acessar o sistema com seguranÃ§a.

ðŸ” Regra (Enum)
Como administrador,
quero atribuir papÃ©is como USUÃRIO ou ADMIN,
para controlar permissÃµes e acesso a funcionalidades.

ðŸªª Token JWT
Como sistema,
quero gerar um token JWT apÃ³s login vÃ¡lido,
para permitir autenticaÃ§Ã£o segura em cada requisiÃ§Ã£o.

ðŸ› ï¸ ServiÃ§oAutenticaÃ§Ã£o
Como usuÃ¡rio,
quero logar no sistema com e-mail e senha,
para ter acesso Ã s minhas informaÃ§Ãµes financeiras com seguranÃ§a.

ðŸŸ§ ExportaÃ§Ã£o & IntegraÃ§Ã£o (DomÃ­nio de Apoio)
ðŸ“¤ ServiÃ§oExportaÃ§Ã£o
Como usuÃ¡rio,
quero gerar relatÃ³rios exportÃ¡veis (PDF, CSV),
para compartilhar ou arquivar minhas anÃ¡lises financeiras.

ðŸ”” Webhook
Como sistema externo,
quero ser notificado quando houver eventos relevantes (ex: saldo negativo),
para executar aÃ§Ãµes automatizadas como alertas ou bloqueios.

ðŸ“Š GeradorRelatÃ³rios
Como usuÃ¡rio,
quero visualizar relatÃ³rios grÃ¡ficos e tabelas com filtros de data e categoria,
para tomar decisÃµes financeiras com base em dados claros.

Essas histÃ³rias sÃ£o o ponto de partida para aprofundar regras (Invariantes, Regras de NegÃ³cio, PolÃ­ticas), e sÃ£o Ã³timas para validar entendimento com stakeholders.

Se quiser, posso expandir isso para incluir os eventos do domÃ­nio e as invariantes de cada entidade ou criar uma planilha ou quadro Kanban com essas histÃ³rias.

-------

# RepresentaÃ§Ã£o grafica com mermaid
flowchart TD
  %% Core Domain
  subgraph CF["ðŸŸ¦ GestÃ£o de Fluxo de Caixa (DomÃ­nio Principal)"]
    CF_Periodo["ðŸ“† PerÃ­odo de Fluxo (CashFlowPeriod)"]
    CF_Transacao["ðŸ’¸ TransaÃ§Ã£o"]
    CF_TipoTransacao["ðŸ”€ TipoTransaÃ§Ã£o (Enum)"]
    CF_CategoriaVO["ðŸ·ï¸ CategoriaRef (VO)"]
    CF_Dinheiro["ðŸ’° Dinheiro (VO)"]
    CF_IntervaloDatas["ðŸ—“ï¸ IntervaloDatas (VO)"]
    CF_Servico["ðŸ› ï¸ ServiÃ§oFluxoCaixa"]
  end

  %% Supporting Domain - Categorias
  subgraph CAT["ðŸŸ¨ GestÃ£o de Categorias (DomÃ­nio de Apoio)"]
    CAT_Categoria["ðŸ·ï¸ Categoria"]
    CAT_TipoCategoria["ðŸ“‚ TipoCategoria (Enum)"]
    CAT_Servico["ðŸ› ï¸ ServiÃ§oCategoria"]
  end

  %% Generic Domain - Auth
  subgraph AUTH["ðŸŸ© Identidade & Acesso (DomÃ­nio GenÃ©rico)"]
    AUTH_Usuario["ðŸ‘¤ UsuÃ¡rio"]
    AUTH_Regra["ðŸ” Regra (Enum)"]
    AUTH_JWT["ðŸªª Token JWT"]
    AUTH_Servico["ðŸ› ï¸ ServiÃ§oAutenticaÃ§Ã£o"]
  end

  %% Supporting Domain - ExportaÃ§Ã£o
  subgraph EXP["ðŸŸ§ ExportaÃ§Ã£o & IntegraÃ§Ã£o (DomÃ­nio de Apoio)"]
    EXP_ServicoExport["ðŸ“¤ ServiÃ§oExportaÃ§Ã£o"]
    EXP_Webhook["ðŸ”” Webhook"]
    EXP_Relatorio["ðŸ“Š GeradorRelatÃ³rios"]
  end

  %% Relacionamentos entre Contextos
  CF -->|ðŸŽ¯ Conformista| CAT
  CF -->|ðŸ§± ACL (Camada AnticorrupÃ§Ã£o)| AUTH
  EXP -->|ðŸ¤ Parceria| CF

  %% DependÃªncias internas CF
  CF_Periodo --> CF_Transacao
  CF_Transacao --> CF_Dinheiro
  CF_Transacao --> CF_CategoriaVO
  CF_Transacao --> CF_TipoTransacao
  CF_Servico --> CF_Periodo
  CF_Servico --> CF_IntervaloDatas

  %% Internas CAT
  CAT_Servico --> CAT_Categoria
  CAT_Categoria --> CAT_TipoCategoria

  %% Internas AUTH
  AUTH_Servico --> AUTH_Usuario
  AUTH_Usuario --> AUTH_Regra
  AUTH_Usuario --> AUTH_JWT

  %% Internas EXP
  EXP_ServicoExport --> EXP_Relatorio
  EXP_Webhook --> CF_Periodo